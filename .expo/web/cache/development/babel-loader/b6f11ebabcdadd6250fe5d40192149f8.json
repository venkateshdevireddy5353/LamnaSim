{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _MapperRegistry = _interopRequireDefault(require(\"./MapperRegistry\"));\n\nvar _MutableValue = _interopRequireDefault(require(\"./MutableValue\"));\n\nvar _Mapper = _interopRequireDefault(require(\"./Mapper\"));\n\nvar JSReanimated = function () {\n  function JSReanimated() {\n    (0, _classCallCheck2.default)(this, JSReanimated);\n    this.native = false;\n    this._valueSetter = undefined;\n    this._renderRequested = false;\n    this._mapperRegistry = new _MapperRegistry.default(this);\n    this._frames = [];\n    this.timeProvider = {};\n\n    if (process.env.JEST_WORKER_ID) {\n      this.timeProvider.now = function () {\n        return Date.now();\n      };\n    } else {\n      this.timeProvider.now = function () {\n        return window.performance.now();\n      };\n    }\n  }\n\n  (0, _createClass2.default)(JSReanimated, [{\n    key: \"pushFrame\",\n    value: function pushFrame(frame) {\n      this._frames.push(frame);\n\n      this.maybeRequestRender();\n    }\n  }, {\n    key: \"getTimestamp\",\n    value: function getTimestamp() {\n      return this.timeProvider.now();\n    }\n  }, {\n    key: \"maybeRequestRender\",\n    value: function maybeRequestRender() {\n      var _this = this;\n\n      if (!this._renderRequested) {\n        this._renderRequested = true;\n        requestAnimationFrame(function (_timestampMs) {\n          _this._renderRequested = false;\n\n          _this._onRender(_this.getTimestamp());\n        });\n      }\n    }\n  }, {\n    key: \"_onRender\",\n    value: function _onRender(timestampMs) {\n      this._mapperRegistry.execute();\n\n      var frames = (0, _toConsumableArray2.default)(this._frames);\n      this._frames = [];\n\n      for (var i = 0, len = frames.length; i < len; ++i) {\n        frames[i](timestampMs);\n      }\n\n      if (this._mapperRegistry.needRunOnRender) {\n        this._mapperRegistry.execute();\n      }\n    }\n  }, {\n    key: \"installCoreFunctions\",\n    value: function installCoreFunctions(valueSetter) {\n      this._valueSetter = valueSetter;\n    }\n  }, {\n    key: \"makeShareable\",\n    value: function makeShareable(value) {\n      return value;\n    }\n  }, {\n    key: \"makeMutable\",\n    value: function makeMutable(value) {\n      return new _MutableValue.default(value, this._valueSetter);\n    }\n  }, {\n    key: \"makeRemote\",\n    value: function makeRemote(object) {\n      return object;\n    }\n  }, {\n    key: \"startMapper\",\n    value: function startMapper(mapper) {\n      var inputs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var outputs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      var instance = new _Mapper.default(this, mapper, inputs, outputs);\n\n      var mapperId = this._mapperRegistry.startMapper(instance);\n\n      this.maybeRequestRender();\n      return mapperId;\n    }\n  }, {\n    key: \"stopMapper\",\n    value: function stopMapper(mapperId) {\n      this._mapperRegistry.stopMapper(mapperId);\n    }\n  }, {\n    key: \"registerEventHandler\",\n    value: function registerEventHandler(_eventHash, _eventHandler) {}\n  }, {\n    key: \"unregisterEventHandler\",\n    value: function unregisterEventHandler(_registrationId) {}\n  }]);\n  return JSReanimated;\n}();\n\nexports.default = JSReanimated;","map":{"version":3,"sources":["C:/Users/venkatesh.devireddy/Projects/IoT_Central_CPM/node_modules/react-native-reanimated/lib/reanimated2/js-reanimated/JSReanimated.js"],"names":["JSReanimated","native","_valueSetter","undefined","_renderRequested","_mapperRegistry","MapperRegistry","_frames","timeProvider","process","env","JEST_WORKER_ID","now","Date","window","performance","frame","push","maybeRequestRender","requestAnimationFrame","_timestampMs","_onRender","getTimestamp","timestampMs","execute","frames","i","len","length","needRunOnRender","valueSetter","value","MutableValue","object","mapper","inputs","outputs","instance","Mapper","mapperId","startMapper","stopMapper","_eventHash","_eventHandler","_registrationId"],"mappings":";;;;;;;;;;;;;AAEA;;AACA;;AACA;;IACqBA,Y;AACjB,0BAAc;AAAA;AACV,SAAKC,MAAL,GAAc,KAAd;AACA,SAAKC,YAAL,GAAoBC,SAApB;AACA,SAAKC,gBAAL,GAAwB,KAAxB;AACA,SAAKC,eAAL,GAAuB,IAAIC,uBAAJ,CAAmB,IAAnB,CAAvB;AACA,SAAKC,OAAL,GAAe,EAAf;AACA,SAAKC,YAAL,GAAoB,EAApB;;AACA,QAAIC,OAAO,CAACC,GAAR,CAAYC,cAAhB,EAAgC;AAC5B,WAAKH,YAAL,CAAkBI,GAAlB,GAAwB;AAAA,eAAMC,IAAI,CAACD,GAAL,EAAN;AAAA,OAAxB;AACH,KAFD,MAGK;AACD,WAAKJ,YAAL,CAAkBI,GAAlB,GAAwB;AAAA,eAAME,MAAM,CAACC,WAAP,CAAmBH,GAAnB,EAAN;AAAA,OAAxB;AACH;AACJ;;;;WACD,mBAAUI,KAAV,EAAiB;AACb,WAAKT,OAAL,CAAaU,IAAb,CAAkBD,KAAlB;;AACA,WAAKE,kBAAL;AACH;;;WACD,wBAAe;AACX,aAAO,KAAKV,YAAL,CAAkBI,GAAlB,EAAP;AACH;;;WACD,8BAAqB;AAAA;;AACjB,UAAI,CAAC,KAAKR,gBAAV,EAA4B;AACxB,aAAKA,gBAAL,GAAwB,IAAxB;AACAe,QAAAA,qBAAqB,CAAC,UAACC,YAAD,EAAkB;AACpC,UAAA,KAAI,CAAChB,gBAAL,GAAwB,KAAxB;;AACA,UAAA,KAAI,CAACiB,SAAL,CAAe,KAAI,CAACC,YAAL,EAAf;AACH,SAHoB,CAArB;AAIH;AACJ;;;WACD,mBAAUC,WAAV,EAAuB;AACnB,WAAKlB,eAAL,CAAqBmB,OAArB;;AACA,UAAMC,MAAM,oCAAO,KAAKlB,OAAZ,CAAZ;AACA,WAAKA,OAAL,GAAe,EAAf;;AACA,WAAK,IAAImB,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGF,MAAM,CAACG,MAA7B,EAAqCF,CAAC,GAAGC,GAAzC,EAA8C,EAAED,CAAhD,EAAmD;AAC/CD,QAAAA,MAAM,CAACC,CAAD,CAAN,CAAUH,WAAV;AACH;;AACD,UAAI,KAAKlB,eAAL,CAAqBwB,eAAzB,EAA0C;AACtC,aAAKxB,eAAL,CAAqBmB,OAArB;AACH;AACJ;;;WACD,8BAAqBM,WAArB,EAAkC;AAC9B,WAAK5B,YAAL,GAAoB4B,WAApB;AACH;;;WACD,uBAAcC,KAAd,EAAqB;AACjB,aAAOA,KAAP;AACH;;;WACD,qBAAYA,KAAZ,EAAmB;AACf,aAAO,IAAIC,qBAAJ,CAAiBD,KAAjB,EAAwB,KAAK7B,YAA7B,CAAP;AACH;;;WACD,oBAAW+B,MAAX,EAAmB;AACf,aAAOA,MAAP;AACH;;;WACD,qBAAYC,MAAZ,EAA+C;AAAA,UAA3BC,MAA2B,uEAAlB,EAAkB;AAAA,UAAdC,OAAc,uEAAJ,EAAI;AAC3C,UAAMC,QAAQ,GAAG,IAAIC,eAAJ,CAAW,IAAX,EAAiBJ,MAAjB,EAAyBC,MAAzB,EAAiCC,OAAjC,CAAjB;;AACA,UAAMG,QAAQ,GAAG,KAAKlC,eAAL,CAAqBmC,WAArB,CAAiCH,QAAjC,CAAjB;;AACA,WAAKnB,kBAAL;AACA,aAAOqB,QAAP;AACH;;;WACD,oBAAWA,QAAX,EAAqB;AACjB,WAAKlC,eAAL,CAAqBoC,UAArB,CAAgCF,QAAhC;AACH;;;WACD,8BAAqBG,UAArB,EAAiCC,aAAjC,EAAgD,CAE/C;;;WACD,gCAAuBC,eAAvB,EAAwC,CAEvC","sourcesContent":["// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nimport MapperRegistry from './MapperRegistry';\nimport MutableValue from './MutableValue';\nimport Mapper from './Mapper';\nexport default class JSReanimated {\n    constructor() {\n        this.native = false;\n        this._valueSetter = undefined;\n        this._renderRequested = false;\n        this._mapperRegistry = new MapperRegistry(this);\n        this._frames = [];\n        this.timeProvider = {};\n        if (process.env.JEST_WORKER_ID) {\n            this.timeProvider.now = () => Date.now();\n        }\n        else {\n            this.timeProvider.now = () => window.performance.now();\n        }\n    }\n    pushFrame(frame) {\n        this._frames.push(frame);\n        this.maybeRequestRender();\n    }\n    getTimestamp() {\n        return this.timeProvider.now();\n    }\n    maybeRequestRender() {\n        if (!this._renderRequested) {\n            this._renderRequested = true;\n            requestAnimationFrame((_timestampMs) => {\n                this._renderRequested = false;\n                this._onRender(this.getTimestamp());\n            });\n        }\n    }\n    _onRender(timestampMs) {\n        this._mapperRegistry.execute();\n        const frames = [...this._frames];\n        this._frames = [];\n        for (let i = 0, len = frames.length; i < len; ++i) {\n            frames[i](timestampMs);\n        }\n        if (this._mapperRegistry.needRunOnRender) {\n            this._mapperRegistry.execute();\n        }\n    }\n    installCoreFunctions(valueSetter) {\n        this._valueSetter = valueSetter;\n    }\n    makeShareable(value) {\n        return value;\n    }\n    makeMutable(value) {\n        return new MutableValue(value, this._valueSetter);\n    }\n    makeRemote(object) {\n        return object;\n    }\n    startMapper(mapper, inputs = [], outputs = []) {\n        const instance = new Mapper(this, mapper, inputs, outputs);\n        const mapperId = this._mapperRegistry.startMapper(instance);\n        this.maybeRequestRender();\n        return mapperId;\n    }\n    stopMapper(mapperId) {\n        this._mapperRegistry.stopMapper(mapperId);\n    }\n    registerEventHandler(_eventHash, _eventHandler) {\n        // noop\n    }\n    unregisterEventHandler(_registrationId) {\n        // noop\n    }\n}\n"]},"metadata":{},"sourceType":"script"}