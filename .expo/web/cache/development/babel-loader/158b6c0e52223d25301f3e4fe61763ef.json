{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativePermissions = require(\"react-native-permissions\");\n\nvar _reactNativeCamera = require(\"react-native-camera\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\venkatesh.devireddy\\\\Projects\\\\IoT_Central_CPM\\\\node_modules\\\\react-native-qrcode-scanner\\\\index.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar CAMERA_FLASH_MODE = _reactNativeCamera.RNCamera.Constants.FlashMode;\nvar CAMERA_FLASH_MODES = [CAMERA_FLASH_MODE.torch, CAMERA_FLASH_MODE.on, CAMERA_FLASH_MODE.off, CAMERA_FLASH_MODE.auto];\n\nvar QRCodeScanner = function (_Component) {\n  (0, _inherits2.default)(QRCodeScanner, _Component);\n\n  var _super = _createSuper(QRCodeScanner);\n\n  function QRCodeScanner(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, QRCodeScanner);\n    _this = _super.call(this, props);\n    _this.state = {\n      scanning: false,\n      isCameraActivated: true,\n      fadeInOpacity: new _reactNative.Animated.Value(0),\n      isAuthorized: false,\n      isAuthorizationChecked: false,\n      disableVibrationByUser: false\n    };\n    _this._scannerTimeout = null;\n    _this._handleBarCodeRead = _this._handleBarCodeRead.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(QRCodeScanner, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (_reactNative.Platform.OS === 'ios') {\n        (0, _reactNativePermissions.request)(_reactNativePermissions.PERMISSIONS.IOS.CAMERA).then(function (cameraStatus) {\n          _this2.setState({\n            isAuthorized: cameraStatus === _reactNativePermissions.RESULTS.GRANTED,\n            isAuthorizationChecked: true\n          });\n        });\n      } else if (_reactNative.Platform.OS === 'android' && this.props.checkAndroid6Permissions) {\n        _reactNative.PermissionsAndroid.request(_reactNative.PermissionsAndroid.PERMISSIONS.CAMERA, {\n          title: this.props.permissionDialogTitle,\n          message: this.props.permissionDialogMessage,\n          buttonPositive: this.props.buttonPositive\n        }).then(function (granted) {\n          var isAuthorized = granted === _reactNative.PermissionsAndroid.RESULTS.GRANTED;\n\n          _this2.setState({\n            isAuthorized: isAuthorized,\n            isAuthorizationChecked: true\n          });\n        });\n      } else {\n        this.setState({\n          isAuthorized: true,\n          isAuthorizationChecked: true\n        });\n      }\n\n      if (this.props.fadeIn) {\n        _reactNative.Animated.sequence([_reactNative.Animated.delay(1000), _reactNative.Animated.timing(this.state.fadeInOpacity, {\n          toValue: 1,\n          easing: _reactNative.Easing.inOut(_reactNative.Easing.quad),\n          useNativeDriver: true\n        })]).start();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._scannerTimeout !== null) {\n        clearTimeout(this._scannerTimeout);\n      }\n\n      this._scannerTimeout = null;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.setState({\n        disableVibrationByUser: true\n      });\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.setState({\n        disableVibrationByUser: false\n      });\n    }\n  }, {\n    key: \"_setScanning\",\n    value: function _setScanning(value) {\n      this.setState({\n        scanning: value\n      });\n    }\n  }, {\n    key: \"_setCamera\",\n    value: function _setCamera(value) {\n      var _this3 = this;\n\n      this.setState({\n        isCameraActivated: value,\n        scanning: false,\n        fadeInOpacity: new _reactNative.Animated.Value(0)\n      }, function () {\n        if (value && _this3.props.fadeIn) {\n          if (_this3.props.fadeIn) {\n            _reactNative.Animated.sequence([_reactNative.Animated.delay(10), _reactNative.Animated.timing(_this3.state.fadeInOpacity, {\n              toValue: 1,\n              easing: _reactNative.Easing.inOut(_reactNative.Easing.quad),\n              useNativeDriver: true\n            })]).start();\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_handleBarCodeRead\",\n    value: function _handleBarCodeRead(e) {\n      var _this4 = this;\n\n      if (!this.state.scanning && !this.state.disableVibrationByUser) {\n        if (this.props.vibrate) {\n          _reactNative.Vibration.vibrate();\n        }\n\n        this._setScanning(true);\n\n        this.props.onRead(e);\n\n        if (this.props.reactivate) {\n          this._scannerTimeout = setTimeout(function () {\n            return _this4._setScanning(false);\n          }, this.props.reactivateTimeout);\n        }\n      }\n    }\n  }, {\n    key: \"_renderTopContent\",\n    value: function _renderTopContent() {\n      if (this.props.topContent) {\n        return this.props.topContent;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderBottomContent\",\n    value: function _renderBottomContent() {\n      if (this.props.bottomContent) {\n        return this.props.bottomContent;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderCameraMarker\",\n    value: function _renderCameraMarker() {\n      if (this.props.showMarker) {\n        if (this.props.customMarker) {\n          return this.props.customMarker;\n        } else {\n          return _react.default.createElement(_reactNative.View, {\n            style: styles.rectangleContainer,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 6\n            }\n          }, _react.default.createElement(_reactNative.View, {\n            style: [styles.rectangle, this.props.markerStyle ? this.props.markerStyle : null],\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 7\n            }\n          }));\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderCameraComponent\",\n    value: function _renderCameraComponent() {\n      return _react.default.createElement(_reactNativeCamera.RNCamera, (0, _extends2.default)({\n        androidCameraPermissionOptions: {\n          title: this.props.permissionDialogTitle,\n          message: this.props.permissionDialogMessage,\n          buttonPositive: this.props.buttonPositive\n        },\n        style: [styles.camera, this.props.cameraStyle],\n        onBarCodeRead: this._handleBarCodeRead.bind(this),\n        type: this.props.cameraType,\n        flashMode: this.props.flashMode,\n        captureAudio: false\n      }, this.props.cameraProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 4\n        }\n      }), this._renderCameraMarker());\n    }\n  }, {\n    key: \"_renderCamera\",\n    value: function _renderCamera() {\n      var _this5 = this;\n\n      var _this$props = this.props,\n          notAuthorizedView = _this$props.notAuthorizedView,\n          pendingAuthorizationView = _this$props.pendingAuthorizationView,\n          cameraType = _this$props.cameraType,\n          cameraTimeoutView = _this$props.cameraTimeoutView;\n\n      if (!this.state.isCameraActivated) {\n        return _react.default.createElement(_reactNative.TouchableWithoutFeedback, {\n          onPress: function onPress() {\n            return _this5._setCamera(true);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 11\n          }\n        }, cameraTimeoutView);\n      }\n\n      var _this$state = this.state,\n          isAuthorized = _this$state.isAuthorized,\n          isAuthorizationChecked = _this$state.isAuthorizationChecked;\n\n      if (isAuthorized) {\n        if (this.props.cameraTimeout > 0) {\n          this.timer && clearTimeout(this.timer);\n          this.timer = setTimeout(function () {\n            return _this5._setCamera(false);\n          }, this.props.cameraTimeout);\n        }\n\n        if (this.props.fadeIn) {\n          return _react.default.createElement(_reactNative.Animated.View, {\n            style: {\n              opacity: this.state.fadeInOpacity,\n              backgroundColor: 'transparent',\n              height: this.props.cameraStyle && this.props.cameraStyle.height || styles.camera.height\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 6\n            }\n          }, this._renderCameraComponent());\n        }\n\n        return this._renderCameraComponent();\n      } else if (!isAuthorizationChecked) {\n        return pendingAuthorizationView;\n      } else {\n        return notAuthorizedView;\n      }\n    }\n  }, {\n    key: \"reactivate\",\n    value: function reactivate() {\n      this._setScanning(false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(_reactNative.View, {\n        style: [styles.mainContainer, this.props.containerStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 4\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: [styles.infoView, this.props.topViewStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 5\n        }\n      }, this._renderTopContent()), _react.default.createElement(_reactNative.View, {\n        style: this.props.cameraStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 5\n        }\n      }, this._renderCamera()), _react.default.createElement(_reactNative.View, {\n        style: [styles.infoView, this.props.bottomViewStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 5\n        }\n      }, this._renderBottomContent()));\n    }\n  }]);\n  return QRCodeScanner;\n}(_react.Component);\n\nexports.default = QRCodeScanner;\nQRCodeScanner.propTypes = {\n  onRead: _propTypes.default.func.isRequired,\n  vibrate: _propTypes.default.bool,\n  reactivate: _propTypes.default.bool,\n  reactivateTimeout: _propTypes.default.number,\n  cameraTimeout: _propTypes.default.number,\n  fadeIn: _propTypes.default.bool,\n  showMarker: _propTypes.default.bool,\n  cameraType: _propTypes.default.oneOf(['front', 'back']),\n  customMarker: _propTypes.default.element,\n  containerStyle: _propTypes.default.any,\n  cameraStyle: _propTypes.default.any,\n  markerStyle: _propTypes.default.any,\n  topViewStyle: _propTypes.default.any,\n  bottomViewStyle: _propTypes.default.any,\n  topContent: _propTypes.default.oneOfType([_propTypes.default.element, _propTypes.default.string]),\n  bottomContent: _propTypes.default.oneOfType([_propTypes.default.element, _propTypes.default.string]),\n  notAuthorizedView: _propTypes.default.element,\n  permissionDialogTitle: _propTypes.default.string,\n  permissionDialogMessage: _propTypes.default.string,\n  buttonPositive: _propTypes.default.string,\n  checkAndroid6Permissions: _propTypes.default.bool,\n  flashMode: _propTypes.default.oneOf(CAMERA_FLASH_MODES),\n  cameraProps: _propTypes.default.object,\n  cameraTimeoutView: _propTypes.default.element\n};\nQRCodeScanner.defaultProps = {\n  onRead: function onRead() {\n    return console.log('QR code scanned!');\n  },\n  reactivate: false,\n  vibrate: true,\n  reactivateTimeout: 0,\n  cameraTimeout: 0,\n  fadeIn: true,\n  showMarker: false,\n  cameraType: 'back',\n  notAuthorizedView: _react.default.createElement(_reactNative.View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: {\n      textAlign: 'center',\n      fontSize: 16\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, \"Camera not authorized\")),\n  pendingAuthorizationView: _react.default.createElement(_reactNative.View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: {\n      textAlign: 'center',\n      fontSize: 16\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, \"...\")),\n  permissionDialogTitle: 'Info',\n  permissionDialogMessage: 'Need camera permission',\n  buttonPositive: 'OK',\n  checkAndroid6Permissions: false,\n  flashMode: CAMERA_FLASH_MODE.auto,\n  cameraProps: {},\n  cameraTimeoutView: _react.default.createElement(_reactNative.View, {\n    style: {\n      flex: 0,\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: _reactNative.Dimensions.get('window').height,\n      width: _reactNative.Dimensions.get('window').width,\n      backgroundColor: 'black'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 4\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: {\n      color: 'white'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, \"Tap to activate camera\"))\n};\n\nvar styles = _reactNative.StyleSheet.create({\n  mainContainer: {\n    flex: 1\n  },\n  infoView: {\n    flex: 2,\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: _reactNative.Dimensions.get('window').width\n  },\n  camera: {\n    flex: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n    height: _reactNative.Dimensions.get('window').height,\n    width: _reactNative.Dimensions.get('window').width\n  },\n  rectangleContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent'\n  },\n  rectangle: {\n    height: 250,\n    width: 250,\n    borderWidth: 2,\n    borderColor: '#00FF00',\n    backgroundColor: 'transparent'\n  }\n});","map":{"version":3,"sources":["C:/Users/venkatesh.devireddy/Projects/IoT_Central_CPM/node_modules/react-native-qrcode-scanner/index.js"],"names":["CAMERA_FLASH_MODE","Camera","Constants","FlashMode","CAMERA_FLASH_MODES","torch","on","off","auto","QRCodeScanner","props","state","scanning","isCameraActivated","fadeInOpacity","Animated","Value","isAuthorized","isAuthorizationChecked","disableVibrationByUser","_scannerTimeout","_handleBarCodeRead","bind","Platform","OS","PERMISSIONS","IOS","CAMERA","then","cameraStatus","setState","RESULTS","GRANTED","checkAndroid6Permissions","PermissionsAndroid","request","title","permissionDialogTitle","message","permissionDialogMessage","buttonPositive","granted","fadeIn","sequence","delay","timing","toValue","easing","Easing","inOut","quad","useNativeDriver","start","clearTimeout","value","e","vibrate","Vibration","_setScanning","onRead","reactivate","setTimeout","reactivateTimeout","topContent","bottomContent","showMarker","customMarker","styles","rectangleContainer","rectangle","markerStyle","camera","cameraStyle","cameraType","flashMode","cameraProps","_renderCameraMarker","notAuthorizedView","pendingAuthorizationView","cameraTimeoutView","_setCamera","cameraTimeout","timer","opacity","backgroundColor","height","_renderCameraComponent","mainContainer","containerStyle","infoView","topViewStyle","_renderTopContent","_renderCamera","bottomViewStyle","_renderBottomContent","Component","propTypes","PropTypes","func","isRequired","bool","number","oneOf","element","any","oneOfType","string","object","defaultProps","console","log","flex","alignItems","justifyContent","textAlign","fontSize","Dimensions","get","width","color","StyleSheet","create","borderWidth","borderColor"],"mappings":"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","sourcesContent":["'use strict';\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { StyleSheet, Dimensions, Vibration, Animated, Easing, View, Text, Platform, TouchableWithoutFeedback, PermissionsAndroid } from 'react-native';\n\nimport { request, PERMISSIONS, RESULTS } from 'react-native-permissions';\nimport { RNCamera as Camera } from 'react-native-camera';\n\nconst CAMERA_FLASH_MODE = Camera.Constants.FlashMode;\nconst CAMERA_FLASH_MODES = [CAMERA_FLASH_MODE.torch, CAMERA_FLASH_MODE.on, CAMERA_FLASH_MODE.off, CAMERA_FLASH_MODE.auto];\n\nexport default class QRCodeScanner extends Component {\n\tstatic propTypes = {\n\t\tonRead: PropTypes.func.isRequired,\n\t\tvibrate: PropTypes.bool,\n\t\treactivate: PropTypes.bool,\n\t\treactivateTimeout: PropTypes.number,\n\t\tcameraTimeout: PropTypes.number,\n\t\tfadeIn: PropTypes.bool,\n\t\tshowMarker: PropTypes.bool,\n\t\tcameraType: PropTypes.oneOf(['front', 'back']),\n\t\tcustomMarker: PropTypes.element,\n\t\tcontainerStyle: PropTypes.any,\n\t\tcameraStyle: PropTypes.any,\n\t\tmarkerStyle: PropTypes.any,\n\t\ttopViewStyle: PropTypes.any,\n\t\tbottomViewStyle: PropTypes.any,\n\t\ttopContent: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n\t\tbottomContent: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n\t\tnotAuthorizedView: PropTypes.element,\n\t\tpermissionDialogTitle: PropTypes.string,\n\t\tpermissionDialogMessage: PropTypes.string,\n\t\tbuttonPositive: PropTypes.string,\n\t\tcheckAndroid6Permissions: PropTypes.bool,\n\t\tflashMode: PropTypes.oneOf(CAMERA_FLASH_MODES),\n\t\tcameraProps: PropTypes.object,\n\t\tcameraTimeoutView: PropTypes.element,\n\t};\n\n\tstatic defaultProps = {\n\t\tonRead: () => console.log('QR code scanned!'),\n\t\treactivate: false,\n\t\tvibrate: true,\n\t\treactivateTimeout: 0,\n\t\tcameraTimeout: 0,\n\t\tfadeIn: true,\n\t\tshowMarker: false,\n\t\tcameraType: 'back',\n\t\tnotAuthorizedView: (\n\t\t\t<View\n\t\t\t\tstyle={{\n\t\t\t\t\tflex: 1,\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Text\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\tfontSize: 16,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tCamera not authorized\n\t\t\t\t</Text>\n\t\t\t</View>\n\t\t),\n\t\tpendingAuthorizationView: (\n\t\t\t<View\n\t\t\t\tstyle={{\n\t\t\t\t\tflex: 1,\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Text\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\tfontSize: 16,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t...\n\t\t\t\t</Text>\n\t\t\t</View>\n\t\t),\n\t\tpermissionDialogTitle: 'Info',\n\t\tpermissionDialogMessage: 'Need camera permission',\n\t\tbuttonPositive: 'OK',\n\t\tcheckAndroid6Permissions: false,\n\t\tflashMode: CAMERA_FLASH_MODE.auto,\n\t\tcameraProps: {},\n\t\tcameraTimeoutView: (\n\t\t\t<View\n\t\t\t\tstyle={{\n\t\t\t\t\tflex: 0,\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\theight: Dimensions.get('window').height,\n\t\t\t\t\twidth: Dimensions.get('window').width,\n\t\t\t\t\tbackgroundColor: 'black',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Text style={{ color: 'white' }}>Tap to activate camera</Text>\n\t\t\t</View>\n\t\t),\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tscanning: false,\n\t\t\tisCameraActivated: true,\n\t\t\tfadeInOpacity: new Animated.Value(0),\n\t\t\tisAuthorized: false,\n\t\t\tisAuthorizationChecked: false,\n\t\t\tdisableVibrationByUser: false,\n\t\t};\n\n\t\tthis._scannerTimeout = null;\n\t\tthis._handleBarCodeRead = this._handleBarCodeRead.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (Platform.OS === 'ios') {\n\t\t\trequest(PERMISSIONS.IOS.CAMERA).then(cameraStatus => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisAuthorized: cameraStatus === RESULTS.GRANTED,\n\t\t\t\t\tisAuthorizationChecked: true,\n\t\t\t\t});\n\t\t\t});\n\t\t} else if (Platform.OS === 'android' && this.props.checkAndroid6Permissions) {\n\t\t\tPermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.CAMERA, {\n\t\t\t\ttitle: this.props.permissionDialogTitle,\n\t\t\t\tmessage: this.props.permissionDialogMessage,\n\t\t\t\tbuttonPositive: this.props.buttonPositive,\n\t\t\t}).then(granted => {\n\t\t\t\tconst isAuthorized = granted === PermissionsAndroid.RESULTS.GRANTED;\n\n\t\t\t\tthis.setState({ isAuthorized, isAuthorizationChecked: true });\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({ isAuthorized: true, isAuthorizationChecked: true });\n\t\t}\n\n\t\tif (this.props.fadeIn) {\n\t\t\tAnimated.sequence([\n\t\t\t\tAnimated.delay(1000),\n\t\t\t\tAnimated.timing(this.state.fadeInOpacity, {\n\t\t\t\t\ttoValue: 1,\n\t\t\t\t\teasing: Easing.inOut(Easing.quad),\n\t\t\t\t\tuseNativeDriver: true,\n\t\t\t\t}),\n\t\t\t]).start();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (this._scannerTimeout !== null) {\n\t\t\tclearTimeout(this._scannerTimeout);\n\t\t}\n\t\tthis._scannerTimeout = null;\n\t}\n\n\tdisable() {\n\t\tthis.setState({ disableVibrationByUser: true });\n\t}\n\tenable() {\n\t\tthis.setState({ disableVibrationByUser: false });\n\t}\n\n\t_setScanning(value) {\n\t\tthis.setState({ scanning: value });\n\t}\n\n\t_setCamera(value) {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tisCameraActivated: value,\n\t\t\t\tscanning: false,\n\t\t\t\tfadeInOpacity: new Animated.Value(0),\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tif (value && this.props.fadeIn) {\n\t\t\t\t\tif (this.props.fadeIn) {\n\t\t\t\t\t\tAnimated.sequence([\n\t\t\t\t\t\t\tAnimated.delay(10),\n\t\t\t\t\t\t\tAnimated.timing(this.state.fadeInOpacity, {\n\t\t\t\t\t\t\t\ttoValue: 1,\n\t\t\t\t\t\t\t\teasing: Easing.inOut(Easing.quad),\n\t\t\t\t\t\t\t\tuseNativeDriver: true,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t]).start();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\t_handleBarCodeRead(e) {\n\t\tif (!this.state.scanning && !this.state.disableVibrationByUser) {\n\t\t\tif (this.props.vibrate) {\n\t\t\t\tVibration.vibrate();\n\t\t\t}\n\t\t\tthis._setScanning(true);\n\t\t\tthis.props.onRead(e);\n\t\t\tif (this.props.reactivate) {\n\t\t\t\tthis._scannerTimeout = setTimeout(() => this._setScanning(false), this.props.reactivateTimeout);\n\t\t\t}\n\t\t}\n\t}\n\n\t_renderTopContent() {\n\t\tif (this.props.topContent) {\n\t\t\treturn this.props.topContent;\n\t\t}\n\t\treturn null;\n\t}\n\n\t_renderBottomContent() {\n\t\tif (this.props.bottomContent) {\n\t\t\treturn this.props.bottomContent;\n\t\t}\n\t\treturn null;\n\t}\n\n\t_renderCameraMarker() {\n\t\tif (this.props.showMarker) {\n\t\t\tif (this.props.customMarker) {\n\t\t\t\treturn this.props.customMarker;\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<View style={styles.rectangleContainer}>\n\t\t\t\t\t\t<View style={[styles.rectangle, this.props.markerStyle ? this.props.markerStyle : null]} />\n\t\t\t\t\t</View>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t_renderCameraComponent() {\n\t\treturn (\n\t\t\t<Camera\n\t\t\t\tandroidCameraPermissionOptions={{\n\t\t\t\t\ttitle: this.props.permissionDialogTitle,\n\t\t\t\t\tmessage: this.props.permissionDialogMessage,\n\t\t\t\t\tbuttonPositive: this.props.buttonPositive,\n\t\t\t\t}}\n\t\t\t\tstyle={[styles.camera, this.props.cameraStyle]}\n\t\t\t\tonBarCodeRead={this._handleBarCodeRead.bind(this)}\n\t\t\t\ttype={this.props.cameraType}\n\t\t\t\tflashMode={this.props.flashMode}\n\t\t\t\tcaptureAudio={false}\n\t\t\t\t{...this.props.cameraProps}\n\t\t\t>\n\t\t\t\t{this._renderCameraMarker()}\n\t\t\t</Camera>\n\t\t);\n\t}\n\n\t_renderCamera() {\n\t\tconst { notAuthorizedView, pendingAuthorizationView, cameraType, cameraTimeoutView } = this.props;\n\n\t\tif (!this.state.isCameraActivated) {\n\t\t\treturn <TouchableWithoutFeedback onPress={() => this._setCamera(true)}>{cameraTimeoutView}</TouchableWithoutFeedback>;\n\t\t}\n\n\t\tconst { isAuthorized, isAuthorizationChecked } = this.state;\n\t\tif (isAuthorized) {\n\t\t\tif (this.props.cameraTimeout > 0) {\n\t\t\t\tthis.timer && clearTimeout(this.timer);\n\t\t\t\tthis.timer = setTimeout(() => this._setCamera(false), this.props.cameraTimeout);\n      \t\t}\n\n\n\t\t\tif (this.props.fadeIn) {\n\t\t\t\treturn (\n\t\t\t\t\t<Animated.View\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\topacity: this.state.fadeInOpacity,\n\t\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t\t\theight:  (this.props.cameraStyle && this.props.cameraStyle.height) || styles.camera.height,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{this._renderCameraComponent()}\n\t\t\t\t\t</Animated.View>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn this._renderCameraComponent();\n\t\t} else if (!isAuthorizationChecked) {\n\t\t\treturn pendingAuthorizationView;\n\t\t} else {\n\t\t\treturn notAuthorizedView;\n\t\t}\n\t}\n\n\treactivate() {\n\t\tthis._setScanning(false);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<View style={[styles.mainContainer, this.props.containerStyle]}>\n\t\t\t\t<View style={[styles.infoView, this.props.topViewStyle]}>{this._renderTopContent()}</View>\n\t\t\t\t<View style={this.props.cameraStyle}>\n\t\t\t\t\t{this._renderCamera()}\n\t\t\t\t</View>\n\t\t\t\t<View style={[styles.infoView, this.props.bottomViewStyle]}>{this._renderBottomContent()}</View>\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nconst styles = StyleSheet.create({\n\tmainContainer: {\n\t\tflex: 1,\n\t},\n\tinfoView: {\n\t\tflex: 2,\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\twidth: Dimensions.get('window').width,\n\t},\n\n\tcamera: {\n\t\tflex: 0,\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tbackgroundColor: 'transparent',\n\t\theight: Dimensions.get('window').height,\n\t\twidth: Dimensions.get('window').width,\n\t},\n\n\trectangleContainer: {\n\t\tflex: 1,\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tbackgroundColor: 'transparent',\n\t},\n\n\trectangle: {\n\t\theight: 250,\n\t\twidth: 250,\n\t\tborderWidth: 2,\n\t\tborderColor: '#00FF00',\n\t\tbackgroundColor: 'transparent',\n\t},\n});"]},"metadata":{},"sourceType":"script"}