{"ast":null,"code":"\"use strict\";\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CancellationException = void 0;\n\nvar CancellationException = function CancellationException(message) {\n  _classCallCheck(this, CancellationException);\n\n  this.message = message;\n  this.name = \"Cancel\";\n};\n\nexports.CancellationException = CancellationException;\n\nvar CancellationToken = function () {\n  function CancellationToken() {\n    _classCallCheck(this, CancellationToken);\n\n    this.cancelled = false;\n  }\n\n  _createClass(CancellationToken, [{\n    key: \"throwIfCancelled\",\n    value: function throwIfCancelled(lastCompletedStep) {\n      if (this.isCancelled()) {\n        throw new CancellationException(\"Connection aborted\" + (lastCompletedStep ? \": \" + lastCompletedStep + \".\" : \".\"));\n      }\n    }\n  }, {\n    key: \"isCancelled\",\n    value: function isCancelled() {\n      return this.cancelled === true;\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      this.cancelled = true;\n    }\n  }]);\n\n  return CancellationToken;\n}();\n\nexports.default = CancellationToken;","map":{"version":3,"sources":["../src/cancellationToken.ts"],"names":[],"mappings":";;;;;;;;;;;IAAa,qB,GAGX,+BAAmB,OAAnB,EAAkC;AAAA;;AAAf,OAAA,OAAA,GAAA,OAAA;AACjB,OAAK,IAAL,GAAY,QAAZ;AACD,C;;AALH,OAAA,CAAA,qBAAA,GAAA,qBAAA;;IAQqB,iB;AAEnB,+BAAA;AAAA;;AACE,SAAK,SAAL,GAAiB,KAAjB;AACD;;;;WAED,0BAAiB,iBAAjB,EAA2C;AACzC,UAAI,KAAK,WAAL,EAAJ,EAAwB;AACtB,cAAM,IAAI,qBAAJ,yBAEF,iBAAiB,UAAQ,iBAAR,SAA+B,GAF9C,EAAN;AAKD;AACF;;;WAED,uBAAW;AACT,aAAO,KAAK,SAAL,KAAmB,IAA1B;AACD;;;WAED,kBAAM;AACJ,WAAK,SAAL,GAAiB,IAAjB;AACD;;;;;;AAtBH,OAAA,CAAA,OAAA,GAAA,iBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationException = void 0;\nclass CancellationException {\n    constructor(message) {\n        this.message = message;\n        this.name = \"Cancel\";\n    }\n}\nexports.CancellationException = CancellationException;\nclass CancellationToken {\n    constructor() {\n        this.cancelled = false;\n    }\n    throwIfCancelled(lastCompletedStep) {\n        if (this.isCancelled()) {\n            throw new CancellationException(`Connection aborted${lastCompletedStep ? `: ${lastCompletedStep}.` : \".\"}`);\n        }\n    }\n    isCancelled() {\n        return this.cancelled === true;\n    }\n    cancel() {\n        this.cancelled = true;\n    }\n}\nexports.default = CancellationToken;\n//# sourceMappingURL=cancellationToken.js.map"]},"metadata":{},"sourceType":"script"}